<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BeautyBucket â€” Shop Cosmetics</title>
<style>
:root{
  --bg:#f6f6f8; --card:#fff; --text:#111; --muted:#666;
  --accent1:#ff5aa8; --accent2:#ff7ab0; --success:#25D366; --glass: rgba(255,255,255,0.6);
}
[data-theme="dark"]{
  --bg:#0b0d10; --card:#0f1114; --text:#e6e7ea; --muted:#9aa0a6; --glass: rgba(255,255,255,0.03);
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
a,button{font-family:inherit;cursor:pointer}
.container{max-width:1100px;margin:0 auto;padding:16px}
.site-header{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;padding:16px;border-radius:10px}
.site-header .row{display:flex;align-items:center;gap:12px;justify-content:space-between}
.brand{font-weight:700;font-size:20px}
.sub{font-size:13px;opacity:0.95;margin-top:4px}
.controls{display:flex;gap:8px;align-items:center}
.dark-toggle{padding:8px;border-radius:10px;background:transparent;color:#fff;border:1px solid rgba(255,255,255,0.12)}

.hero{margin:16px 0 8px;position:relative;border-radius:12px;overflow:hidden;height:220px;box-shadow:0 12px 40px rgba(16,24,40,0.06)}
.slide{position:absolute;inset:0;display:flex;align-items:center;padding:28px;transition:opacity .6s ease,transform .45s ease;opacity:0;transform:translateY(6px);background-size:cover;background-position:center}
.slide.show{opacity:1;transform:none}
.slide .txt h2{font-size:40px;margin-bottom:6px;position:relative;color:#fff;font-weight:700;text-shadow:0 0 15px rgba(0,0,0,0.4)}
.slide .txt h2::before{
  content:"";
  position:absolute;inset:0;
  background-image:url('https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=900&q=80&auto=format&fit=crop');
  opacity:0.3;
  border-radius:10px;z-index:-1;
}
.slide .txt p{color:var(--muted)}
.hero .nav{position:absolute;top:50%;left:12px;right:12px;display:flex;justify-content:space-between;transform:translateY(-50%);pointer-events:none}
.hero .arrow{pointer-events:auto;background:#fff;border-radius:999px;padding:8px 10px;box-shadow:0 8px 22px rgba(16,24,40,0.08)}

.top-bar{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin:8px 0 12px}
#searchInput{flex:1 1 220px;padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);background:#fff}
#pincodeInput{width:130px;padding:8px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);background:#fff}
#pincodeMessage{width:100%;font-size:13px;color:var(--muted);margin-top:6px}

.filters-row{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
.cat-btn{padding:8px 12px;border-radius:999px;border:1px solid rgba(0,0,0,0.06);background:transparent;color:var(--text);cursor:pointer;box-shadow:0 6px 20px rgba(16,24,40,0.03)}
.cat-btn.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;transform:translateY(-3px);box-shadow:0 18px 40px rgba(255,90,168,0.12)}
#clearFilters{padding:8px 12px;border-radius:999px;background:#333;color:#fff;cursor:pointer;display:none;box-shadow:0 6px 20px rgba(16,24,40,0.03)}

.products{display:grid;grid-template-columns:1fr;gap:18px;margin-bottom:40px}
@media(min-width:800px){.products{grid-template-columns:repeat(2,1fr)}}
@media(min-width:1200px){.products{grid-template-columns:repeat(3,1fr)}}

.product-card{background:var(--card);border-radius:14px;padding:12px;border:1px solid rgba(16,24,40,0.04);display:flex;flex-direction:column;min-height:300px;box-shadow:0 8px 28px rgba(16,24,40,0.04);transition:transform .18s,box-shadow .18s;position:relative}
.imgwrap{height:160px;border-radius:10px;background:linear-gradient(180deg,#fff,#fcfcfd);display:flex;align-items:center;justify-content:center;overflow:hidden}
.imgwrap img{max-width:100%;max-height:100%;object-fit:contain;display:block}
.p-body{padding:12px 6px 6px;display:flex;flex-direction:column;gap:6px;flex:1}
.p-title{font-weight:600;font-size:16px;display:flex;align-items:center;gap:8px}
.p-cat{color:var(--muted);font-size:13px}
.p-details{color:var(--muted);font-size:13px;min-height:36px}
.prices{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:auto;font-size:14px}
.mrp{color:#9aa0a6;text-decoration:line-through}
.sp{font-weight:700;font-size:15px}
.discount{color:#d10000;font-size:13px}
.stock-info{font-size:13px;color:#888}
.card-actions{display:flex;gap:8px;align-items:center;margin-top:10px}
.btn-buy{background:var(--success);color:#fff;padding:6px 12px;border-radius:10px;border:0;font-weight:700;cursor:pointer}
.out-of-stock-overlay{position:absolute;left:12px;top:12px;background:rgba(255,0,0,0.9);color:#fff;padding:6px 8px;border-radius:8px;font-weight:700;z-index:10}

.spinner-wrap{display:flex;align-items:center;justify-content:center;padding:30px}
.spinner{width:44px;height:44px;border-radius:50%;border:5px solid rgba(0,0,0,0.07);border-top-color:var(--accent1);animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
#errorMsg{color:#c00;padding:20px}
.muted{color:var(--muted);font-size:13px}
</style>
</head>
<body>
<header class="site-header">
  <div class="container">
    <div class="row">
      <div>
        <div class="brand">BeautyBucket</div>
        <div class="sub">Quality Cosmetics. Quick Delivery.</div>
      </div>
      <div class="controls">
        <button id="themeToggle" class="dark-toggle" title="Toggle dark mode">ðŸŒ“</button>
      </div>
    </div>
  </div>
</header>

<div class="container">
  <!-- Hero slides -->
  <div class="hero" id="hero">
    <div class="slide show" data-index="0"><div class="txt"><h2>Fresh arrivals â€” curated just for you</h2></div></div>
    <div class="slide" data-index="1"><div class="txt"><h2>Limited time offer: Up to 40% off</h2></div></div>
    <div class="slide" data-index="2"><div class="txt"><h2>Clean, cruelty-free formulas</h2></div></div>
    <div class="nav">
      <button id="prevSlide" class="arrow">â€¹</button>
      <button id="nextSlide" class="arrow">â€º</button>
    </div>
  </div>

  <div class="top-bar">
    <div style="flex:1;display:flex;gap:8px;align-items:center">
      <input id="searchInput" placeholder="Search products..." aria-label="Search products">
      <input id="pincodeInput" placeholder="Pincode" aria-label="Pincode">
    </div>
    <div style="display:flex;align-items:center;gap:8px">
      <div id="pincodeMessage" class="muted">Enter the Pincode to check delivery options</div>
    </div>
  </div>

  <div class="filters-row" id="categoryFilters"></div>
  <div id="clearFilters">Clear filters</div>

  <div id="productList" class="products" aria-live="polite"></div>
  <div id="spinner" class="spinner-wrap" style="display:none"><div class="spinner"></div></div>
  <div id="errorMsg" style="display:none"></div>
</div>

<script>
const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQA2pIOTPv2AVnMSWtlKLJeSXQXxTllgHn2gGYcdd_ZbHARLmclz_OXy009Aw9hJqgpc-RXIk_HXkK4/pub?gid=1550466309&single=true&output=csv";
const PLACEHOLDER = "https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=900&q=80&auto=format&fit=crop";
let allProducts = [];
const filters = { categories: new Set(), search: '' };

const FREE_PINCODES = ['411028','411060','412308','412307','411036','411013'];
const PORTAR_PINCODES = ['411004','411040','410506','410509','413132','411032','411035','412411','412205','412201','412105','412211','412206','410507','411042','410401','411046','410501','410505','412218','411003','412408','411051','412410','410502','413114','412212','411021','412401','412207','412404','411007','411027','412406','412402','412405','412204','411002','411045','413102','413133','413103','413801','412108','413104','412303','412203','412209','413130','413105','412301','411026','411039','412106','411038','410513','411037','413106','412202','412208','411001','411031','410503','412114','412409','411019','412101','411005','412213','411012','412305','412311','412109','412214','413110','410508','412403','411043','411015','411041','411014','412216','410516','413120','411016','412210','412102','412104','411028','411013','410504','412306','411025','411057','410402','412215','412107','410403','411017','410405','412412','412219','412220','411052','411034','411011','411024','413116','410301','411048','412103','411023','410511','413802','410512','411047','411030','410510','410515','413115','412307','411018','412304','411036','411008','411044','411009','410406','412308','410302','411020','411022','412110','412312','411058','411006','411060'];

function updatePincodeMessage(){
  const val = document.getElementById('pincodeInput').value.trim();
  const msgEl = document.getElementById('pincodeMessage');
  if(FREE_PINCODES.includes(val)) msgEl.innerHTML = '<b>Free Instance Delivery For You</b>';
  else if(PORTAR_PINCODES.includes(val)) msgEl.textContent = 'Instance Delivery with Portar';
  else msgEl.textContent = 'Delivery charges is Applicable';
}
document.getElementById('pincodeInput').addEventListener('input', updatePincodeMessage);

// CSV parsing & product rendering code goes here (same as previous)
</script>
</body>
</html>
