<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BeautyBucket ‚Äî Shop Cosmetics</title>
  <style>
    /* ---------- Base ---------- */
    :root{
      --bg:#f6f6f8; --card:#fff; --text:#111; --muted:#666;
      --accent1:#ff5aa8; --accent2:#ff7ab0; --success:#25D366;
      --glass: rgba(255,255,255,0.6);
    }
    [data-theme="dark"]{
      --bg:#0b0d10; --card:#0f1114; --text:#e6e7ea; --muted:#9aa0a6;
      --glass: rgba(255,255,255,0.03);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
    a,button{font-family:inherit;cursor:pointer}
    .container{max-width:1100px;margin:0 auto;padding:16px}

    /* ---------- Header + Controls ---------- */
    .site-header{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;padding:16px;border-radius:10px}
    .site-header .row{display:flex;align-items:center;gap:12px;justify-content:space-between}
    .brand{font-weight:700;font-size:20px}
    .sub{font-size:13px;opacity:0.95;margin-top:4px}
    .controls{display:flex;gap:8px;align-items:center}
    .icon-btn{background:var(--glass);border-radius:10px;padding:8px 10px;border:0;color:var(--text)}
    .dark-toggle{padding:8px;border-radius:10px;background:transparent;color:#fff;border:1px solid rgba(255,255,255,0.12)}

    /* ---------- Hero ---------- */
    .hero{margin:16px 0 8px;position:relative;border-radius:12px;overflow:hidden;height:220px;box-shadow:0 12px 40px rgba(16,24,40,0.06);background: url('https://images.unsplash.com/photo-1582363425002-5e9238c726ef?w=900&q=80&auto=format&fit=crop') center/cover;}
    .slide{position:absolute;inset:0;display:flex;align-items:center;padding:28px;transition:opacity .6s ease,transform .45s ease;opacity:0;transform:translateY(6px)}
    .slide.show{opacity:1;transform:none}
    .slide .txt h2{font-size:26px;margin-bottom:6px;color:rgba(255,255,255,0.85)}
    .slide .txt p{color:var(--muted);font-size:16px;color:rgba(255,255,255,0.7)}
    .hero .nav{position:absolute;top:50%;left:12px;right:12px;display:flex;justify-content:space-between;transform:translateY(-50%);pointer-events:none}
    .hero .arrow{pointer-events:auto;background:#fff;border-radius:999px;padding:8px 10px;box-shadow:0 8px 22px rgba(16,24,40,0.08)}

    /* ---------- Top bar search/pincode ---------- */
    .top-bar{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin:8px 0 12px}
    #searchInput{flex:1 1 220px;padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);background:#fff}
    #pincodeInput{width:130px;padding:8px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);background:#fff}
    #pincodeMessage{width:100%;font-size:13px;color:var(--muted);margin-top:6px}

    /* ---------- Filters row ---------- */
    .filters-row{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
    .cat-btn{padding:8px 12px;border-radius:999px;border:1px solid rgba(0,0,0,0.06);background:transparent;color:var(--text);cursor:pointer;box-shadow:0 6px 20px rgba(16,24,40,0.03)}
    .cat-btn.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;transform:translateY(-3px);box-shadow:0 18px 40px rgba(255,90,168,0.12)}
    .clear-filter-btn{background-color: #333; color: white; padding: 8px 12px; border-radius: 999px; cursor: pointer; display: none;}

    /* ---------- Product grid and cards ---------- */
    .products{display:grid;grid-template-columns:1fr;gap:18px;margin-bottom:40px}
    @media(min-width:800px){.products{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:1200px){.products{grid-template-columns:repeat(3,1fr)}}

    .product-card{background:var(--card);border-radius:14px;padding:12px;border:1px solid rgba(16,24,40,0.04);display:flex;flex-direction:column;min-height:260px;box-shadow:0 8px 28px rgba(16,24,40,0.04);transition:transform .18s,box-shadow .18s}
    .product-card:hover{transform:translateY(-6px);box-shadow:0 24px 60px rgba(16,24,40,0.08)}
    .imgwrap{height:160px;border-radius:10px;background:linear-gradient(180deg,#fff,#fcfcfd);display:flex;align-items:center;justify-content:center;overflow:hidden}
    .imgwrap img{max-width:100%;max-height:100%;object-fit:contain;display:block}

    .p-body{padding:12px 6px 6px;display:flex;flex-direction:column;gap:8px;flex:1}
    .p-title{font-weight:600;font-size:16px;display:flex;align-items:center;gap:8px}
    .p-cat{color:var(--muted);font-size:13px}
    .p-details{color:var(--muted);font-size:13px;min-height:36px}
    .prices{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:auto}
    .mrp{color:#9aa0a6;text-decoration:line-through;font-size:13px}
    .sp{font-weight:700;font-size:16px}
    .discount{color:#d10000;font-size:13px}
  </style>
</head>
<body>

  <header class="site-header">
    <div class="container">
      <div class="row">
        <div>
          <div class="brand">BeautyBucket</div>
          <div class="sub">Quality Cosmetics. Quick Delivery.</div>
        </div>
        <div class="controls">
          <button id="themeToggle" class="dark-toggle" title="Toggle dark mode">üåì</button>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <!-- HERO -->
    <div class="hero" id="hero">
      <div class="slide show" data-index="0">
        <div class="txt">
          <h2>Fresh arrivals ‚Äî curated just for you</h2>
          <p>Discover the latest cosmetics handpicked for quality, performance and style. Free delivery on select pincodes.</p>
        </div>
      </div>
      <div class="slide" data-index="1">
        <div class="txt">
          <h2>Limited time offer: Up to 40% off</h2>
          <p>Special bundle deals on our best sellers. Tap a product and buy directly via WhatsApp.</p>
        </div>
      </div>
      <div class="slide" data-index="2">
        <div class="txt">
          <h2>Clean, cruelty-free formulas</h2>
          <p>All our products are cruelty-free, vegan, and made with safe, ethical ingredients.</p>
        </div>
      </div>
      <div class="nav">
        <div class="arrow" id="prevSlide">‚Üê</div>
        <div class="arrow" id="nextSlide">‚Üí</div>
      </div>
    </div>

    <!-- PINCODE AND FILTER -->
    <div class="top-bar">
      <input type="text" id="searchInput" placeholder="Search products...">
      <input type="text" id="pincodeInput" placeholder="Enter Pincode">
    </div>
    <div id="pincodeMessage">Enter the Pincode to check delivery options</div>

    <!-- CATEGORY FILTER -->
    <div class="filters-row" id="categoryFilters">
      <button class="cat-btn">Skincare</button>
      <button class="cat-btn">Makeup</button>
      <button class="cat-btn">Haircare</button>
    </div>

    <!-- PRODUCT LIST -->
    <div class="products" id="productList">
      <!-- Dynamic products will be injected here -->
    </div>

    <button id="clearFiltersBtn" class="clear-filter-btn">Clear Filters</button>

  </div>

  <script>
    // Add products fetching code here from your original URL
    const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQA2pIOTPv2AVnMSWtlKLJeSXQXxTllgHn2gGYcdd_ZbHARLmclz_OXy009Aw9hJqgpc-RXIk_HXkK4/pub?gid=1550466309&single=true&output=csv";
    let products = [];
    let filteredProducts = [];

    fetch(CSV_URL)
      .then(response => response.text())
      .then(data => {
        // Parsing CSV data
        const rows = data.split('\n').map(row => row.split(','));
        products = rows.slice(1).map(row => ({
          id: row[0],
          name: row[1],
          category: row[2],
          price: parseFloat(row[3]),
          discount: parseInt(row[4]),
          stock: row[5] === 'In Stock',
          imgUrl: row[6],
          description: row[7],
        }));
        filteredProducts = [...products];
        renderProducts(filteredProducts);
      });

    function renderProducts(products) {
      const productList = document.getElementById('productList');
      productList.innerHTML = '';
      products.forEach(product => {
        const productCard = document.createElement('div');
        productCard.className = 'product-card';

        productCard.innerHTML = `
          <div class="imgwrap"><img src="${product.imgUrl}" alt="${product.name}"></div>
          <div class="p-body">
            <div class="p-title">${product.name}</div>
            <div class="p-cat">${product.category}</div>
            <div class="p-details">${product.description}</div>
            <div class="prices">
              <span class="mrp">${product.price + 100}</span>
              <span class="sp">${product.price}</span>
            </div>
          </div>
        `;
        productList.appendChild(productCard);
      });
    }

    // PINCODE DELIVERY MESSAGE
    const pincodeInput = document.getElementById('pincodeInput');
    const pincodeMessage = document.getElementById('pincodeMessage');
    const validPincodesFree = ['411028', '411060', '412308', '412307', '411036', '411013'];
    const validPincodesPortar = ['411004', '411040', '410506', '410509', '413132', '411032', '411035', '412411', '412205', '412201', '412105', '412211', '412206', '410507', '411042', '410401', '411046', '410501', '410505', '412218', '411003', '412408', '411051', '412410', '410502', '413114', '412212', '411021', '412401', '412207', '412404', '411007', '411027', '412406', '412402', '412405', '412204', '411002', '411045', '413102', '413133', '413103', '413801', '412108', '413104', '412303', '412203', '412209', '413130', '413105', '412301', '411026', '411039', '412106', '411038', '410513', '411037', '413106', '412202', '412208', '411001', '411031', '410503', '412114', '412409', '411019', '412101', '411005', '412213', '411012', '412305', '412311', '412109', '412214', '413110', '410508', '412403', '411043', '411015', '411041', '411014', '412216', '410516', '413120', '411016', '412210', '412102', '412104', '411028', '411013', '410504', '412306', '411025', '411057', '410402', '412215', '412107', '410403', '411017', '410405', '412412', '412219', '412220', '411052', '411034', '411011', '411024', '413116', '410301', '411048', '412103', '411023', '410511', '413802', '410512', '411047', '411030', '410510', '410515', '413115', '412307', '411018', '412304', '411036', '411008', '411044', '411009', '410406', '412308', '410302', '411020', '411022', '412110', '412312', '411058', '411006', '411060'];

    pincodeInput.addEventListener('input', () => {
      const pincode = pincodeInput.value.trim();
      if (validPincodesFree.includes(pincode)) {
        pincodeMessage.textContent = "Free Instance Delivery For You";
        pincodeMessage.style.fontWeight = "bold";
      } else if (validPincodesPortar.includes(pincode)) {
        pincodeMessage.textContent = "Instance Delivery with Portar";
      } else {
        pincodeMessage.textContent = "Delivery charges is Applicable";
      }
    });

    // Filter clear button logic
    const clearFiltersBtn = document.getElementById('clearFiltersBtn');
    const categoryButtons = document.querySelectorAll('.cat-btn');

    let selectedCategories = [];
    categoryButtons.forEach(button => {
      button.addEventListener('click', () => {
        button.classList.toggle('active');
        const category = button.textContent;
        if (button.classList.contains('active')) {
          selectedCategories.push(category);
        } else {
          selectedCategories = selectedCategories.filter(c => c !== category);
        }

        // Filter the products based on selected categories
        if (selectedCategories.length > 0) {
          filteredProducts = products.filter(p => selectedCategories.includes(p.category));
        } else {
          filteredProducts = [...products];
        }

        renderProducts(filteredProducts);

        // Show the clear filter button if multiple categories are selected
        if (selectedCategories.length > 0) {
          clearFiltersBtn.style.display = 'inline-block';
        } else {
          clearFiltersBtn.style.display = 'none';
        }
      });
    });

    clearFiltersBtn.addEventListener('click', () => {
      categoryButtons.forEach(button => button.classList.remove('active'));
      selectedCategories = [];
      filteredProducts = [...products];
      renderProducts(filteredProducts);
      clearFiltersBtn.style.display = 'none';
    });

  </script>
</body>
</html>
